## 서비스 기능 목표

### 0. 프로젝트 개요
- **프로젝트명**: 프리랜서와 팀을 위한 스마트 협업 클라우드 시스템 (SmartCollab Local)
- **개발 환경**
  - 백엔드: Java, Spring Boot
  - 프론트엔드: HTML, JavaScript (React, JSX)
  - 데이터베이스: MySQL (기본), H2 (테스트용)
  - 파일 저장소: 로컬 서버 디렉터리 (사용자 홈/{user.home}/smartcollab_uploads)
  - 실시간 통신: WebSocket (STOMP)
  - 보안: JWT (JSON Web Token) 기반 인증

---

### 1. 사용자 계정 및 인증
- **서비스 접속**
  - 사용자는 웹 브라우저에서 `http://localhost:8080` 주소로 서비스에 접근
- **회원가입**
  - 사용자 ID, 비밀번호, 이름, 이메일을 입력하여 계정을 생성
  - 가입 시 비밀번호 일치 여부, ID 및 이메일 중복 여부를 실시간 검증
  - 최초 가입자는 관리자(ADMIN) 권한, 이후 가입자는 일반 사용자(USER) 권한 자동 부여
  - 회원가입 완료 시, 해당 사용자의 개인 최상위(루트) 폴더 자동 생성
- **로그인/로그아웃**
  - JWT 토큰 기반 인증 방식 사용
  - 로그인 실패 시 `"아이디 또는 비밀번호가 일치하지 않습니다"` 메시지 표시
  - 발급된 JWT 토큰 유효기간: 3시간 (기간 내 로그인 상태 유지)
- **회원 탈퇴**
  - '회원 탈퇴' 버튼으로 계정을 영구 삭제 가능
  - 팀장 보호:
    - 하나 이상의 팀에서 팀장 직책 보유 시 탈퇴 불가
    - `"팀장으로 있는 팀이 있어 탈퇴할 수 없습니다. 먼저 모든 팀의 팀장직을 다른 팀원에게 위임해주세요."` 메시지 표시
  - 데이터 처리:
    - 개인 스토리지의 모든 파일·폴더 영구 삭제
    - 과거 소속 팀의 데이터(파일, 폴더, 채팅 메시지 등)는 삭제되지 않음
    - 소유자가 `"탈퇴한 사용자"`로 변경되어 팀 자산으로 유지

---

### 2. 대시보드 및 UI/UX
- **레이아웃**
  - 3단 구성: 사이드바 / 메인 콘텐츠 / 협업·정보 패널
- **사이드바**
  - 내 드라이브: 개인 루트 폴더 표시
  - 팀 스토리지: 속한 모든 팀 목록 + 현재 인원수(`N명`)
  - '새 팀 생성', '새로고침' 버튼 제공
  - 스토리지 이름 왼쪽에 아이콘(`storage_icon.png`) 표시
- **메인 콘텐츠**
  - 경로 표시줄(Breadcrumb): 현재 경로 표시, 클릭 시 이동
    - 경로 구분 아이콘(`right_icon.png`) 사용
  - 파일/폴더 목록: 테이블 형태
    - 아이콘(`folder_icon.png`, `file_icon.png`), 이름, 수정일, 생성자, 크기 표시
  - 정렬: 각 컬럼 헤더 클릭 시 오름/내림차순 전환
    - 정렬 아이콘(`sorting_icon.png`) 표시
  - 선택: 개별/전체 선택 체크박스 제공
- **상단 툴바**
  - 항목 선택 시 활성화
  - 기능: 이름 변경, 삭제, 다운로드, 이동, 복사, 공유, 버전 기록
- **검색 기능**
  - 현재 스토리지(개인/팀) 내 하위 디렉터리 포함 검색
  - 검색 결과: 파일명 + 경로 정보 표시

---

### 3. 파일 및 버전 관리
- **파일/폴더 작업**
  - 새 폴더 생성
  - 로컬 파일 업로드
  - '업로드', '새 폴더' 버튼 제공
  - 수동 새로고침 버튼 클릭 시 `"현재 목록을 새로고침했습니다."` 메시지 표시
- **버전 관리**
  - 최초 업로드: 초기 버전 기록
  - 웹 에디터 저장 시: 새로운 버전 자동 생성
  - 버전 기록 보기: 작업자, 저장 시간 확인 가능 (모달창)
  - 버전 복원: 선택 버전으로 되돌림 (복원 작업 자체는 버전 생성 안 함)

---

### 4. 팀 협업 기능
- **팀 관리**
  - 초대: 팀장은 ID 검색 후 초대
    - `"팀원에게 초대 메시지를 보냈습니다."` 메시지 표시
  - 초대 수락/거절: 알림창에서 선택
    - 수락 시 팀 합류, 초대한 사람에게 결과 알림 전송
  - 팀원 관리 UI:
    - 목록에 새로고침, '초대', '팀 삭제/나가기' 버튼 표시
    - 팀장은 '위임', '권한', '추방' 버튼으로 멤버 관리
- **실시간 팀 채팅**
  - WebSocket 기반 실시간 채팅
  - 대화 내용: 서버 DB 저장 (새로고침/재접속 후에도 기록 유지)
  - 파일 첨부: 실시간 표시 + 팀 스토리지 최상위 폴더 저장
  - UI: 메시지 옆에 날짜·시간 표시, 날짜 구분선 하루 1회 표시
  - 메시지 비우기: 팀장이 전체 대화 기록 영구 삭제
